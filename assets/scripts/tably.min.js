// Author: Josh McDonald / @onestepcreative
// Tably - Version 1.2
(function($){$.extend({tably:function(options){var defaults={activeClass:'active',tabContainer:'#tabContainer',tabContentContainer:'#tabContentContainer',tabSelector:'.tab',contentSelector:'.tabContent',tabTransition:true,enableSaving:true};var cookieOptions={expires:365,path:'/'},cookieValue=$.cookie('tab_active'),options=$.extend(defaults,options),o=options;if(o.enableSaving===false){$.cookie('tab_active',null,cookieOptions);}
$(o.tabSelector).each(function(i){var index=i+1;$(this).attr('data-index',index);if(cookieValue===null||cookieValue===undefined||o.enableSaving===false){if(index===1){$(this).addClass(o.activeClass);}}});$(o.contentSelector).each(function(i){var index=i+1;$(this).attr('data-index',index);if(cookieValue===null||cookieValue===undefined||o.enableSaving===false){if(index===1){$(this).addClass(o.activeClass);}}});var activeIndex=$('.tab'+o.activeClass).data('index');if(o.enableSaving===true){if(cookieValue===undefined){$.cookie('tab_active',activeIndex,cookieOptions);}else if($.cookie('tab_active')){$(o.tabSelector).removeClass(o.activeClass);$(o.contentSelector).removeClass(o.activeClass);$(o.tabSelector+'[data-index="'+cookieValue+'"]').addClass(o.activeClass);$(o.contentSelector+'[data-index="'+cookieValue+'"]').addClass(o.activeClass);}}else{$(o.tabSelector).removeClass(o.activeClass);$(o.contentSelector).removeClass(o.activeClass);$(o.tabSelector+'[data-index="1"]').addClass(o.activeClass);$(o.contentSelector+'[data-index="1"]').addClass(o.activeClass);}
$(o.tabSelector).on('click',function(e){var dataIndex=$(this).data('index');if($.cookie('tab_active')){$.cookie('tab_active',null,cookieOptions);}
if(o.tabTransition){$(o.tabSelector).removeClass(o.activeClass);$(o.contentSelector).fadeOut(300).removeClass(o.activeClass);$(this).addClass(o.activeClass);$(o.contentSelector+'[data-index="'+dataIndex+'"]').fadeIn(300).addClass(o.activeClass);}else{$(o.tabSelector).removeClass(o.activeClass);$(o.contentSelector).removeClass(o.activeClass);$(this).addClass(o.activeClass);$(o.contentSelector+'[data-index="'+dataIndex+'"]').addClass(o.activeClass);}
var cookieValue=dataIndex;if(o.enableSaving===true){$.cookie('tab_active',cookieValue,cookieOptions);}else{$.cookie('tab_active',null,cookieOptions);}
e.preventDefault();});}});})(jQuery);